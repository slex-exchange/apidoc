
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <meta
            name="description"
            content="Documentation for the SLEX websocket"
        >
    <title>WebSocket API Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-9c19b03a.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-966d6edc.css" rel="stylesheet" media="print" />
      <script src="javascripts/all_nosearch-18c3ed8e.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>

  <body class="index" data-languages="[]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-cdb0cd39.png" class="logo" alt="" />
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#websocket-market-streams" class="toc-h1 toc-link" data-title="Websocket Market Streams">Websocket Market Streams</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#live-subscribing-unsubscribing-to-streams" class="toc-h2 toc-link" data-title="Live Subscribing/Unsubscribing to streams">Live Subscribing/Unsubscribing to streams</a>
                  </li>
                  <li>
                    <a href="#subscribe-to-a-stream" class="toc-h2 toc-link" data-title="Subscribe to a stream">Subscribe to a stream</a>
                  </li>
                  <li>
                    <a href="#unsubscribe-to-a-stream" class="toc-h2 toc-link" data-title="Unsubscribe to a stream">Unsubscribe to a stream</a>
                  </li>
                  <li>
                    <a href="#listing-subscriptions" class="toc-h2 toc-link" data-title="Listing Subscriptions">Listing Subscriptions</a>
                  </li>
                  <li>
                    <a href="#setting-properties" class="toc-h2 toc-link" data-title="Setting Properties">Setting Properties</a>
                  </li>
                  <li>
                    <a href="#retrieving-properties" class="toc-h2 toc-link" data-title="Retrieving Properties">Retrieving Properties</a>
                  </li>
                  <li>
                    <a href="#aggregate-trade-streams" class="toc-h2 toc-link" data-title="Aggregate Trade Streams">Aggregate Trade Streams</a>
                  </li>
                  <li>
                    <a href="#trade-streams" class="toc-h2 toc-link" data-title="Trade Streams">Trade Streams</a>
                  </li>
                  <li>
                    <a href="#kline-candlestick-streams" class="toc-h2 toc-link" data-title="Kline/Candlestick Streams">Kline/Candlestick Streams</a>
                  </li>
                  <li>
                    <a href="#individual-symbol-mini-ticker-stream" class="toc-h2 toc-link" data-title="Individual Symbol Mini Ticker Stream">Individual Symbol Mini Ticker Stream</a>
                  </li>
                  <li>
                    <a href="#all-market-mini-tickers-stream" class="toc-h2 toc-link" data-title="All Market Mini Tickers Stream">All Market Mini Tickers Stream</a>
                  </li>
                  <li>
                    <a href="#individual-symbol-book-ticker-streams" class="toc-h2 toc-link" data-title="Individual Symbol Book Ticker Streams">Individual Symbol Book Ticker Streams</a>
                  </li>
                  <li>
                    <a href="#partial-book-depth-streams" class="toc-h2 toc-link" data-title="Partial Book Depth Streams">Partial Book Depth Streams</a>
                  </li>
                  <li>
                    <a href="#diff-depth-stream" class="toc-h2 toc-link" data-title="Diff. Depth Stream">Diff. Depth Stream</a>
                  </li>
                  <li>
                    <a href="#how-to-manage-a-local-order-book-correctly" class="toc-h2 toc-link" data-title="How to manage a local order book correctly">How to manage a local order book correctly</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#user-data-streams" class="toc-h1 toc-link" data-title="User Data Streams">User Data Streams</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#listen-key" class="toc-h2 toc-link" data-title="Listen key">Listen key</a>
                  </li>
                  <li>
                    <a href="#account-update" class="toc-h2 toc-link" data-title="Account Update">Account Update</a>
                  </li>
                  <li>
                    <a href="#order-update" class="toc-h2 toc-link" data-title="Order Update">Order Update</a>
                  </li>
              </ul>
          </li>
      </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>This is WebSocket documentation for SLEX api</p>
<h1 id='websocket-market-streams'>Websocket Market Streams</h1>
<p>Streams can be accessed either in a single raw stream or in a combined stream.<br>
Raw streams are accessed at <code>/ws/&lt;streamName&gt;</code><br>
Combined streams are accessed at <code>/stream?streams=&lt;streamName1&gt;/&lt;streamName2&gt;/&lt;streamName3&gt;</code><br>
Combined stream events are wrapped as follows: <code>{&quot;stream&quot;:&quot;&lt;streamName&gt;&quot;,&quot;data&quot;:&lt;rawPayload&gt;}</code><br>
All symbols for streams are lowercase<br>
A single connection is only valid for 24 hours; expect to be disconnected at the 24 hour mark<br>
Websocket server will send a ping frame. If the websocket server does not receive a pong frame the connection will be disconnected. When you receive a ping, you must send a pong with a copy of ping&#39;s payload as soon as possible.</p>
<h2 id='live-subscribing-unsubscribing-to-streams'>Live Subscribing/Unsubscribing to streams</h2>
<p>The following data can be sent through the websocket instance in order to subscribe/unsubscribe from streams. Examples can be seen below.
The id is used as an identifier to uniquely identify the messages going back and forth. The following formats are accepted:
- 32-bit signed integer
- alphanumeric strings
In the response, if the result received is null this means the request sent was a success.</p>
<h2 id='subscribe-to-a-stream'>Subscribe to a stream</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
</span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUBSCRIBE"</span><span class="p">,</span><span class="w">
</span><span class="nl">"params"</span><span class="p">:</span><span class="w">
</span><span class="p">[</span><span class="w">
</span><span class="s2">"btcusdt@aggTrade"</span><span class="p">,</span><span class="w">
</span><span class="s2">"btcusdt@depth"</span><span class="w">
</span><span class="p">],</span><span class="w">
</span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Send required body</p>
<h2 id='unsubscribe-to-a-stream'>Unsubscribe to a stream</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
</span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UNSUBSCRIBE"</span><span class="p">,</span><span class="w">
</span><span class="nl">"params"</span><span class="p">:</span><span class="w">
</span><span class="p">[</span><span class="w">
</span><span class="s2">"btcusdt@depth"</span><span class="w">
</span><span class="p">],</span><span class="w">
</span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Send required body</p>
<h2 id='listing-subscriptions'>Listing Subscriptions</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
</span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIST_SUBSCRIPTIONS"</span><span class="p">,</span><span class="w">
</span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"btcusdt@aggTrade"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Send required body</p>
<h2 id='setting-properties'>Setting Properties</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
</span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SET_PROPERTY"</span><span class="p">,</span><span class="w">
</span><span class="nl">"params"</span><span class="p">:</span><span class="w">
</span><span class="p">[</span><span class="w">
</span><span class="s2">"combined"</span><span class="p">,</span><span class="w">
</span><span class="kc">true</span><span class="w">
</span><span class="p">],</span><span class="w">
</span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Currently, the only property can be set is to set whether combined stream payloads are enabled or not. The combined property is set to <code>false</code> when connecting using <code>/ws/</code> (&quot;raw streams&quot;) and <code>true</code> when connecting using <code>/stream/</code>.</p>
<h2 id='retrieving-properties'>Retrieving Properties</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
</span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET_PROPERTY"</span><span class="p">,</span><span class="w">
</span><span class="nl">"params"</span><span class="p">:</span><span class="w">
</span><span class="p">[</span><span class="w">
</span><span class="s2">"combined"</span><span class="w">
</span><span class="p">],</span><span class="w">
</span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">Indicates</span><span class="w"> </span><span class="err">that</span><span class="w"> </span><span class="err">combined</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">set</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="kc">true</span><span class="err">.</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Send required body</p>
<h2 id='aggregate-trade-streams'>Aggregate Trade Streams</h2>
<blockquote>
<p>Message</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="p">{</span>
    <span class="nl">e</span><span class="p">:</span> <span class="dl">'</span><span class="s1">aggTrade</span><span class="dl">'</span><span class="p">;</span> <span class="c1">// Event type</span>
    <span class="nl">E</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span> <span class="c1">// Event time</span>
    <span class="nl">s</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span> <span class="c1">// Symbol</span>
    <span class="nl">a</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span> <span class="c1">// Aggregate Trade ID</span>
    <span class="nl">p</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span> <span class="c1">// Price</span>
    <span class="nl">q</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span> <span class="c1">// Quantity</span>
    <span class="nl">f</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span> <span class="c1">// First trade ID</span>
    <span class="nl">l</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span> <span class="c1">// Last trade ID</span>
    <span class="nl">T</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span> <span class="c1">// Trade time</span>
    <span class="nl">m</span><span class="p">:</span> <span class="nx">boolean</span><span class="p">;</span> <span class="c1">// Is the buyer the market maker?</span>
<span class="p">}</span>
</code></pre></div>
<p>The Aggregate Trade Streams push trade information that is aggregated for a single taker order.</p>

<p>Stream Name: <code>&lt;symbol&gt;@aggTrade</code></p>

<p>Update Speed: Real-time</p>
<h2 id='trade-streams'>Trade Streams</h2>
<blockquote>
<p>Message</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="p">{</span>
    <span class="nl">e</span><span class="p">:</span> <span class="dl">'</span><span class="s1">trade</span><span class="dl">'</span><span class="p">;</span> <span class="c1">// Event type</span>
    <span class="nl">E</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span> <span class="c1">// Event time</span>
    <span class="nl">s</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span> <span class="c1">// Symbol</span>
    <span class="nl">t</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span> <span class="c1">// Trade ID</span>
    <span class="nl">p</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span> <span class="c1">// Price</span>
    <span class="nl">q</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span> <span class="c1">// Quantity</span>
    <span class="nl">b</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span> <span class="c1">// Buyer order ID</span>
    <span class="nl">a</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span> <span class="c1">// Seller order ID</span>
    <span class="nl">T</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span> <span class="c1">// Trade time</span>
    <span class="nl">m</span><span class="p">:</span> <span class="nx">boolean</span><span class="p">;</span> <span class="c1">// Is the buyer the market maker?</span>
<span class="p">}</span>
</code></pre></div>
<p>The Trade Streams push raw trade information; each trade has a unique buyer and seller.</p>

<p>Stream Name: <code>&lt;symbol&gt;@trade</code></p>

<p>Update Speed: Real-time</p>
<h2 id='kline-candlestick-streams'>Kline/Candlestick Streams</h2>
<blockquote>
<p>Message</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="p">{</span>
  <span class="nl">e</span><span class="p">:</span> <span class="dl">'</span><span class="s1">kline</span><span class="dl">'</span><span class="p">;</span>     <span class="c1">// Event type</span>
  <span class="nl">E</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>   <span class="c1">// Event time</span>
  <span class="nl">s</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>    <span class="c1">// Symbol</span>
  <span class="nl">k</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">t</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span> <span class="c1">// Kline start time</span>
    <span class="nl">T</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span> <span class="c1">// Kline close time</span>
    <span class="nl">s</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>  <span class="c1">// Symbol</span>
    <span class="nl">i</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span> <span class="c1">//"1m",      // Interval</span>
    <span class="nl">f</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>       <span class="c1">// First trade ID</span>
    <span class="nl">L</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>       <span class="c1">// Last trade ID</span>
    <span class="nl">o</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>  <span class="c1">// Open price</span>
    <span class="nl">c</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>  <span class="c1">// Close price</span>
    <span class="nl">h</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>  <span class="c1">// High price</span>
    <span class="nl">l</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>  <span class="c1">// Low price</span>
    <span class="nl">v</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>    <span class="c1">// Base asset volume</span>
    <span class="nl">n</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>       <span class="c1">// Number of trades</span>
    <span class="nl">x</span><span class="p">:</span> <span class="nx">boolean</span><span class="p">;</span>     <span class="c1">// Is this kline closed?</span>
    <span class="nl">q</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>  <span class="c1">// Quote asset volume</span>
    <span class="nl">V</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>     <span class="c1">// Taker buy base asset volume</span>
    <span class="nl">Q</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>   <span class="c1">// Taker buy quote asset volume</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>The Kline/Candlestick Stream push updates to the current klines/candlestick every second.</p>

<p>Stream Name: <code>&lt;symbol&gt;@kline_&lt;interval&gt;</code></p>

<p>Update Speed: 1000ms for 1s, 2000ms for the other intervals</p>

<p>Kline/Candlestick chart intervals:</p>

<p>s-&gt; seconds; m -&gt; minutes; h -&gt; hours; d -&gt; days; w -&gt; weeks; M -&gt; months</p>

<ul>
<li>1s</li>
<li>1m</li>
<li>3m</li>
<li>5m</li>
<li>15m</li>
<li>30m</li>
<li>1h</li>
<li>2h</li>
<li>4h</li>
<li>6h</li>
<li>8h</li>
<li>12h</li>
<li>1d</li>
<li>3d</li>
<li>1w</li>
<li>1M</li>
</ul>
<h2 id='individual-symbol-mini-ticker-stream'>Individual Symbol Mini Ticker Stream</h2>
<blockquote>
<p>Message</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="p">{</span>
    <span class="dl">'</span><span class="s1">e</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">24hrMiniTicker</span><span class="dl">'</span><span class="p">;</span>  <span class="c1">// Event type</span>
    <span class="dl">'</span><span class="s1">E</span><span class="dl">'</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>            <span class="c1">// Event time</span>
    <span class="dl">'</span><span class="s1">s</span><span class="dl">'</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>            <span class="c1">// Symbol</span>
    <span class="dl">'</span><span class="s1">c</span><span class="dl">'</span><span class="p">:</span> <span class="kr">string</span> <span class="o">|</span> <span class="kc">null</span><span class="p">;</span>            <span class="c1">// Close price</span>
    <span class="dl">'</span><span class="s1">o</span><span class="dl">'</span><span class="p">:</span> <span class="kr">string</span> <span class="o">|</span> <span class="kc">null</span><span class="p">;</span>            <span class="c1">// Open price</span>
    <span class="dl">'</span><span class="s1">h</span><span class="dl">'</span><span class="p">:</span> <span class="kr">string</span> <span class="o">|</span> <span class="kc">null</span><span class="p">;</span>            <span class="c1">// High price</span>
    <span class="dl">'</span><span class="s1">l</span><span class="dl">'</span><span class="p">:</span> <span class="kr">string</span> <span class="o">|</span> <span class="kc">null</span><span class="p">;</span>            <span class="c1">// Low price</span>
    <span class="dl">'</span><span class="s1">v</span><span class="dl">'</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>            <span class="c1">// Total traded base asset volume</span>
    <span class="dl">'</span><span class="s1">q</span><span class="dl">'</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>            <span class="c1">// Total traded quote asset volume</span>
<span class="p">}</span>
</code></pre></div>
<p>24hr rolling window mini-ticker statistics. These are NOT the statistics of the UTC day, but a 24hr rolling window for the previous 24hrs.</p>

<p>Stream Name: <code>&lt;symbol&gt;@miniTicker</code></p>

<p>Update Speed: 1m</p>
<h2 id='all-market-mini-tickers-stream'>All Market Mini Tickers Stream</h2>
<blockquote>
<p>Message</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="p">[{</span>
    <span class="dl">'</span><span class="s1">e</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">24hrMiniTicker</span><span class="dl">'</span><span class="p">;</span>  <span class="c1">// Event type</span>
    <span class="dl">'</span><span class="s1">E</span><span class="dl">'</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>            <span class="c1">// Event time</span>
    <span class="dl">'</span><span class="s1">s</span><span class="dl">'</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>            <span class="c1">// Symbol</span>
    <span class="dl">'</span><span class="s1">c</span><span class="dl">'</span><span class="p">:</span> <span class="kr">string</span> <span class="o">|</span> <span class="kc">null</span><span class="p">;</span>            <span class="c1">// Close price</span>
    <span class="dl">'</span><span class="s1">o</span><span class="dl">'</span><span class="p">:</span> <span class="kr">string</span> <span class="o">|</span> <span class="kc">null</span><span class="p">;</span>            <span class="c1">// Open price</span>
    <span class="dl">'</span><span class="s1">h</span><span class="dl">'</span><span class="p">:</span> <span class="kr">string</span> <span class="o">|</span> <span class="kc">null</span><span class="p">;</span>            <span class="c1">// High price</span>
    <span class="dl">'</span><span class="s1">l</span><span class="dl">'</span><span class="p">:</span> <span class="kr">string</span> <span class="o">|</span> <span class="kc">null</span><span class="p">;</span>            <span class="c1">// Low price</span>
    <span class="dl">'</span><span class="s1">v</span><span class="dl">'</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>            <span class="c1">// Total traded base asset volume</span>
    <span class="dl">'</span><span class="s1">q</span><span class="dl">'</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>            <span class="c1">// Total traded quote asset volume</span>
<span class="p">}]</span>
</code></pre></div>
<p>24hr rolling window mini-ticker statistics for all symbols that changed in an array. These are NOT the statistics of the UTC day, but a 24hr rolling window for the previous 24hrs. Note that only tickers that have changed will be present in the array.</p>

<p>Stream Name: <code>!miniTicker@arr</code></p>

<p>Update Speed: 1m</p>
<h2 id='individual-symbol-book-ticker-streams'>Individual Symbol Book Ticker Streams</h2>
<blockquote>
<p>Message</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="p">{</span>
    <span class="nl">u</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span> <span class="c1">// order book updateId</span>
    <span class="nl">s</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span> <span class="c1">// symbol</span>
    <span class="nl">b</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span> <span class="c1">// best bid price</span>
    <span class="nl">B</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span> <span class="c1">// best bid qty</span>
    <span class="nl">a</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span> <span class="c1">// best ask price</span>
    <span class="nl">A</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span> <span class="c1">// best ask qty</span>
<span class="p">}</span>
</code></pre></div>
<p>Pushes any update to the best bid or ask&#39;s price or quantity in real-time for a specified symbol.</p>

<p>Multiple <code>&lt;symbol&gt;@bookTicker</code> streams can be subscribed to over one connection.</p>

<p>Stream Name: <code>&lt;symbol&gt;@bookTicker</code></p>

<p>Update Speed: Real-time</p>
<h2 id='partial-book-depth-streams'>Partial Book Depth Streams</h2>
<blockquote>
<p>Message</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="p">{</span>
    <span class="nl">lastUpdateId</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span> <span class="c1">// Last update ID</span>
    <span class="nl">bids</span><span class="p">:</span> <span class="p">[</span><span class="kr">string</span><span class="p">,</span> <span class="kr">string</span><span class="p">][];</span> <span class="c1">// Bids to be updated (Price level to be updated, Quantity)</span>
    <span class="nl">asks</span><span class="p">:</span> <span class="p">[</span><span class="kr">string</span><span class="p">,</span> <span class="kr">string</span><span class="p">][];</span> <span class="c1">// Asks to be updated (Price level to be updated, Quantity)</span>
<span class="p">}</span>
</code></pre></div>
<p>Top bids and asks, Valid are 5, 10, or 20.</p>

<p>Stream Names: <code>&lt;symbol&gt;@depth&lt;levels&gt;</code> OR <code>&lt;symbol&gt;@depth&lt;levels&gt;@100ms</code>.</p>

<p>Update Speed: 1000ms or 100ms</p>
<h2 id='diff-depth-stream'>Diff. Depth Stream</h2>
<blockquote>
<p>Message</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="p">{</span>
    <span class="nl">e</span><span class="p">:</span> <span class="dl">'</span><span class="s1">depthUpdate</span><span class="dl">'</span><span class="p">;</span> <span class="c1">// Event type</span>
    <span class="nl">E</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span> <span class="c1">// Event time</span>
    <span class="nl">s</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span> <span class="c1">// Symbol</span>
    <span class="nl">U</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span> <span class="c1">// First update ID in event</span>
    <span class="nl">u</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span> <span class="c1">// Final update ID in event</span>
    <span class="nl">b</span><span class="p">:</span> <span class="p">[</span><span class="kr">string</span><span class="p">,</span> <span class="kr">string</span><span class="p">][];</span> <span class="c1">// Bids to be updated (Price level to be updated, Quantity)</span>
    <span class="nl">a</span><span class="p">:</span> <span class="p">[</span><span class="kr">string</span><span class="p">,</span> <span class="kr">string</span><span class="p">][];</span> <span class="c1">// Asks to be updated (Price level to be updated, Quantity)</span>
<span class="p">}</span>
</code></pre></div>
<p>Stream Name: <code>&lt;symbol&gt;@depth</code> OR <code>&lt;symbol&gt;@depth@100ms</code></p>

<p>Update Speed: 1000ms or 100ms</p>

<p>Order book price and quantity depth updates used to locally manage an order book.</p>
<h2 id='how-to-manage-a-local-order-book-correctly'>How to manage a local order book correctly</h2>
<ol>
<li>Open a stream to <code>&lt;symbol&gt;@depth</code>.</li>
<li>Buffer the events you receive from the stream.</li>
<li>Get a depth snapshot from <code>/api/v3/depth?symbol=&lt;symbol&gt;&amp;limit=1000</code> .</li>
<li>Drop any event where u is &lt;= lastUpdateId in the snapshot.</li>
<li>The first processed event should have U &lt;= lastUpdateId+1 AND u &gt;= lastUpdateId+1.</li>
<li>While listening to the stream, each new event&#39;s U should be equal to the previous event&#39;s u+1.</li>
<li>The data in each event is the absolute quantity for a price level.</li>
<li>If the quantity is 0, remove the price level.</li>
<li>Receiving an event that removes a price level that is not in your local order book can happen and is normal.</li>
</ol>

<p>Note: Due to depth snapshots having a limit on the number of price levels, a price level outside of the initial snapshot that doesn&#39;t have a quantity change won&#39;t have an update in the Diff. Depth Stream. Consequently, those price levels will not be visible in the local order book even when applying all updates from the Diff. Depth Stream correctly and cause the local order book to have some slight differences with the real order book. However, for most use cases the depth limit of 5000 is enough to understand the market and trade effectively.</p>
<h1 id='user-data-streams'>User Data Streams</h1>
<ul>
<li>A User Data Stream listenKey is valid for 60 minutes after creation.</li>
<li>Doing a PUT on a listenKey will extend its validity for 60 minutes.</li>
<li>Doing a DELETE on a listenKey will close the stream and invalidate the listenKey.</li>
<li>Doing a POST on an account with an active listenKey will return the currently active listenKey and extend its validity for 60 minutes.</li>
<li>A listenKey is a stream.</li>
<li>Users can listen to multiple streams.</li>
<li>User Data Streams are accessed at <code>/ws/&lt;listenKey&gt;</code> or <code>/stream?streams=&lt;listenKey&gt;</code></li>
<li>A single connection only valid for 24 hours; expect to be disconnected at the 24 hour mark</li>
</ul>
<h2 id='listen-key'>Listen key</h2>
<p>To create listen key use /api/v3/userDataStream from swagger</p>
<h2 id='account-update'>Account Update</h2>
<blockquote>
<p>Message</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="p">{</span>
    <span class="nl">e</span><span class="p">:</span> <span class="dl">'</span><span class="s1">outboundAccountPosition</span><span class="dl">'</span><span class="p">;</span> <span class="c1">//Event type</span>
    <span class="nl">E</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>                    <span class="c1">//Event Time</span>
    <span class="nl">u</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>                    <span class="c1">//Time of last account update</span>
    <span class="nl">B</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">a</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>                  <span class="c1">//Asset</span>
      <span class="nl">f</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>                  <span class="c1">//Free</span>
      <span class="nl">l</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>                  <span class="c1">//Locked</span>
    <span class="p">}[];</span>                          <span class="c1">//Balances Array</span>
<span class="p">}</span>
</code></pre></div>
<p>outboundAccountPosition is sent any time an account balance has changed and contains the assets that were possibly changed by the event that generated the balance change.</p>
<h2 id='order-update'>Order Update</h2>
<blockquote>
<p>Message</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="p">{</span>
  <span class="nl">e</span><span class="p">:</span> <span class="dl">'</span><span class="s1">executionReport</span><span class="dl">'</span><span class="p">;</span>        <span class="c1">// Event type</span>
  <span class="nl">E</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>            <span class="c1">// Event time</span>
  <span class="nl">s</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>                 <span class="c1">// Symbol</span>
  <span class="nl">c</span><span class="p">:</span> <span class="kr">string</span> <span class="o">|</span> <span class="kc">null</span><span class="p">;</span> <span class="c1">// Client order ID</span>
  <span class="nl">S</span><span class="p">:</span> <span class="nx">TradeSide</span><span class="p">;</span>                    <span class="c1">// Side</span>
  <span class="nl">o</span><span class="p">:</span> <span class="nx">OrderType</span><span class="p">;</span>                  <span class="c1">// Order type</span>
  <span class="nl">f</span><span class="p">:</span> <span class="nx">TimeInForce</span><span class="p">;</span>                    <span class="c1">// Time in force</span>
  <span class="nl">q</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>             <span class="c1">// Order quantity</span>
  <span class="nl">p</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>             <span class="c1">// Order price</span>
  <span class="nl">P</span><span class="p">:</span> <span class="kr">string</span> <span class="o">|</span> <span class="kc">null</span><span class="p">;</span>             <span class="c1">// Stop price</span>
  <span class="nl">g</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>              <span class="c1">// OrderListId</span>
  <span class="nl">C</span><span class="p">:</span> <span class="kr">string</span><span class="o">|</span><span class="kc">null</span><span class="p">;</span>                       <span class="c1">// Original client order ID; This is the ID of the order being canceled</span>
  <span class="nl">x</span><span class="p">:</span> <span class="nx">OrderExecutionReport_Status</span><span class="p">,</span>                    <span class="c1">// Current execution type</span>
  <span class="nx">X</span><span class="p">:</span> <span class="nx">Order_Status</span><span class="p">,</span>                    <span class="c1">// Current order status</span>
  <span class="nx">r</span><span class="p">:</span> <span class="kr">string</span> <span class="o">|</span> <span class="kc">null</span><span class="p">,</span>                   <span class="c1">// Order reject reason; will be an error code.</span>
  <span class="nx">i</span><span class="p">:</span> <span class="kr">number</span><span class="p">,</span>                  <span class="c1">// Order ID</span>
  <span class="nx">l</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span>             <span class="c1">// Last executed quantity</span>
  <span class="nx">z</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span>             <span class="c1">// Cumulative filled quantity</span>
  <span class="nx">L</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span>             <span class="c1">// Last executed price</span>
  <span class="nx">n</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span>                      <span class="c1">// Commission amount</span>
  <span class="nx">N</span><span class="p">:</span> <span class="kc">null</span> <span class="o">|</span> <span class="kr">string</span><span class="p">,</span>                     <span class="c1">// Commission asset</span>
  <span class="nx">T</span><span class="p">:</span> <span class="kr">number</span> <span class="o">|</span> <span class="kc">null</span><span class="p">,</span>            <span class="c1">// Transaction time</span>
  <span class="nx">t</span><span class="p">:</span> <span class="kr">number</span> <span class="o">|</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>                       <span class="c1">// Trade ID</span>
  <span class="nx">w</span><span class="p">:</span> <span class="nx">boolean</span><span class="p">;</span>                     <span class="c1">// Is the order on the book?</span>
  <span class="nl">m</span><span class="p">:</span> <span class="nx">boolean</span><span class="p">;</span>                    <span class="c1">// Is this trade the maker side?</span>
  <span class="nl">O</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>            <span class="c1">// Order creation time</span>
  <span class="nl">Z</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span>             <span class="c1">// Cumulative quote asset transacted quantity</span>
  <span class="nx">Y</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span>             <span class="c1">// Last quote asset transacted quantity (i.e. lastPrice * lastQty)</span>
  <span class="nx">Q</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span>             <span class="c1">// Quote Order Quantity</span>
  <span class="nx">j</span><span class="p">:</span> <span class="kr">number</span> <span class="o">|</span> <span class="kc">undefined</span><span class="p">,</span>                        <span class="c1">// Strategy ID; This is only visible if the strategyId parameter was provided upon order placement</span>
  <span class="nx">J</span><span class="p">:</span> <span class="kr">number</span> <span class="o">|</span> <span class="kc">undefined</span><span class="p">,</span>                  <span class="c1">// Strategy Type; This is only visible if the strategyType parameter was provided upon order placement</span>
  <span class="nx">W</span><span class="p">:</span> <span class="kr">number</span> <span class="o">|</span> <span class="kc">undefined</span><span class="p">,</span>            <span class="c1">// Working Time; This is only visible if the order has been placed on the book.</span>
  <span class="nx">V</span><span class="p">:</span> <span class="dl">'</span><span class="s1">NONE</span><span class="dl">'</span><span class="p">,</span>                   <span class="c1">// selfTradePreventionMode</span>
<span class="p">}</span>
</code></pre></div>
<p>Orders are updated with the executionReport event.</p>

<p><strong>TradeSide:</strong>
* BUY
* SELL</p>

<p><strong>OrderType:</strong>
* LIMIT
* MARKET</p>

<p><strong>TimeInForce:</strong>
* GTC
* FOC
* IOC</p>

<p><strong>OrderExecutionReport_Status:</strong>
* NEW - The order has been accepted into the engine.
* CANCELED - The order has been canceled by the user.
* REJECTED - The order has been rejected and was not processed
* PARTIALLY_FILLED - Part of the order or all of the order&#39;s quantity has filled.
* FILLED - Order executed
* EXPIRED - The order was canceled according to the order type&#39;s rules or by the exchange</p>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
